{% extends "layouts/main.html" %}

{% block pageTitle %}
  {{ serviceName }} â€“ Available space and commitment
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    {% if errors %}
      {{ govukErrorSummary({
        titleText: "There is a problem",
        errorList: errors
      }) }}
    {% endif %}

    <form class="form" action="/additional-info" method="post">

      {% from "govuk/components/input/macro.njk" import govukInput %}
      {% from "govuk/components/radios/macro.njk" import govukRadios %}

      {{ govukInput({
        id: "available-space",
        name: "availableSpace",
        label: {
          text: "Available space (in square feet)",
          classes: "govuk-label--l"
        },
        hint: {
          text: "Enter the total available space where the wind turbine could be installed. Minimum 200 sq ft required."
        },
        type: "number",
        inputmode: "numeric",
        value: data.availableSpace,
        attributes: {
          min: "200"
        },
        errorMessage: availableSpaceErrorMessage
      }) }}

      {{ govukInput({
        id: "turbine-number",
        name: "turbineNumber",
        label: {
          text: "How many wind turbines do you want to install?",
          classes: "govuk-label--m"
        },
        hint: {
          text: "The number of turbines cannot exceed the maximum for your available space"
        },
        type: "number",
        inputmode: "numeric",
        value: data.turbineNumber,
        attributes: {
          min: "1"
        },
        errorMessage: turbineNumberErrorMessage
      }) }}

      {{ govukRadios({
        idPrefix: "commitment",
        name: "commitment",
        fieldset: {
          legend: {
            text: "Do you agree to maintain the wind turbine for 20 years?",
            isPageHeading: true,
            classes: "govuk-fieldset__legend--l"
          }
        },
        hint: {
          text: "This is a requirement for the grant. The turbine must be maintained and operational."
        },
        value: data.commitment,
        items: [
          { value: "yes", text: "Yes" },
          { value: "no", text: "No" }
        ],
        errorMessage: commitmentErrorMessage
      }) }}

      {{ govukButton({
        text: "Continue"
      }) }}

    </form>

  </div>
</div>

{% endblock %}